<div class="container mt-4">
  <!-- Header Section -->
  <div class="d-flex justify-content-between align-items-center">
    <!-- Left Section -->
    <div class="d-flex align-items-center">
      <h5 class="text-primary mb-0">{{currentTabData?.label}}</h5>
      <span class="divider">&nbsp;|&nbsp;</span>
      <span class="fw-bold">Total Results: {{CurrentAPIBody?.count}}</span>
      <span class="divider">&nbsp;|&nbsp;</span>
      <span class="fw-bold">Routes: #{{(index) ? index+1 : 1}}</span>
    </div>

    <!-- Right Section -->
    <div style="display: flex;">
      <button *ngIf="!generatePDFloader && isDownloadPermit" (click)="handleGeneratePDF()"
        [disabled]="generatePDFloader" title="Download Single Route" class="btn btn-outline-primary btn-sm me-2"><i
          class="fas fa-download"></i>
        Full Report (max 25 Report Download)</button>
      <div *ngIf="searchThrough != 'synthesis-search' || this.CurrentAPIBody?.currentTab != this.resultTabWithKeys.technicalRoutes.name,">
        <button *ngIf="index==0" (click)="OpenQueryModal()" class="btn btn-outline-primary btn-sm me-2">Raise
          Query</button>
        <button *ngIf="index==0" (click)="handleBack()" class="btn btn-outline-primary btn-sm">Back to Search</button>
      </div>
    </div>
  </div>

  <chem-route-tabs (handleCurrentTab)="handleCurrentTab($event)" [resultTabs]="resultTabs"
    [activeTab]="activeTab"></chem-route-tabs>

  <!-- Main Content Section -->
  <div class="mt-3" [ngSwitch]="activeTab || currentTabData?.name">
    <ng-container *ngSwitchCase="resultTabWithKeys.productInfo.name">
      <chem-product-info [data]="_dataItem.productInfo"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.productInfo.name]" [index]="index"
        [tabName]="resultTabWithKeys.productInfo.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)">
      </chem-product-info>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.technicalRoutes.name">
      <chem-technical-route [data]="_dataItem.technicalRoutes" [CurrentAPIBody]="CurrentAPIBody"
        [specialCount]="_dataItem?.technicalRoutes?.special_count"
        [itemid]="_dataItem"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.technicalRoutes.name]" [index]="index"
        [tabName]="resultTabWithKeys.technicalRoutes.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (resetPagination)="resetPagination.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-technical-route>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.chemicalDirectory.name">
      <chemical-directory [data]="_dataItem.chemicalDirectory"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.chemicalDirectory.name]" [index]="index"
        [tabName]="resultTabWithKeys.chemicalDirectory.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"
        (handleROSChange)="handleROSChange.emit($event)" (activeTabChange)="onChemicalDirectoryActiveTabChange($event)">
      </chemical-directory>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.impurity.name">
      <chem-impurity [data]="_dataItem.impurity"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.impurity.name]" [index]="index"
        [tabName]="resultTabWithKeys.impurity.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-impurity>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.chemiTracker.name">
      <chem-chemi-tracker [data]="_dataItem.chemiTracker"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.chemiTracker.name]" [index]="index"
        [tabName]="resultTabWithKeys.chemiTracker.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-chemi-tracker>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.europeApproval.name">
      <chem-europe-approval [data]="_dataItem.europeApproval"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.europeApproval.name]" [index]="index"
        [tabName]="resultTabWithKeys.europeApproval.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-europe-approval>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.usApproval.name">
      <chem-us [data]="_dataItem.usApproval"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.usApproval.name]" [index]="index"
        (handleSetLoading)="handleSetLoading.emit($event)" [tabName]="resultTabWithKeys.usApproval.name"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)">
      </chem-us>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.veterinaryUsApproval.name">
      <app-veterinary-us-approval [data]="_dataItem.veterinaryUsApproval"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.veterinaryUsApproval.name]" [index]="index"
        [tabName]="resultTabWithKeys.veterinaryUsApproval.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></app-veterinary-us-approval>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.canadaApproval.name">
      <chem-canada [data]="_dataItem.canadaApproval"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.canadaApproval.name]" [index]="index"
        [tabName]="resultTabWithKeys.canadaApproval.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-canada>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.japanApproval.name">
      <chem-japan [data]="_dataItem.japanApproval"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.japanApproval.name]" [index]="index"
        [tabName]="resultTabWithKeys.japanApproval.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-japan>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.koreaApproval.name">
      <chem-korea [data]="_dataItem.koreaApproval"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.koreaApproval.name]" [index]="index"
        [tabName]="resultTabWithKeys.koreaApproval.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-korea>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.indianMedicine.name">
      <chem-indian [data]="_dataItem.indianMedicine"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.indianMedicine.name]" [index]="index"
        [tabName]="resultTabWithKeys.indianMedicine.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-indian>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.litigation.name">
      <chem-litigation [data]="_dataItem.litigation"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.litigation.name]" [index]="index"
        [tabName]="resultTabWithKeys.litigation.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-litigation>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.activePatent.name">
      <chem-active-patent [data]="_dataItem.activePatent"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.activePatent.name]" [index]="index"
        [tabName]="resultTabWithKeys.activePatent.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-active-patent>
    </ng-container>
    <ng-container *ngSwitchCase="resultTabWithKeys.nonPatentLandscape.name">
      <app-non-patent [data]="_dataItem.nonPatentLandscape"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.nonPatentLandscape.name]" [index]="index"
        [tabName]="resultTabWithKeys.nonPatentLandscape.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></app-non-patent>
    </ng-container>
    <ng-container *ngSwitchCase="resultTabWithKeys.impPatents.name">
      <chem-imp [data]="_dataItem.impPatents"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.impPatents.name]" [index]="index"
        [tabName]="resultTabWithKeys.impPatents.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)"></chem-imp>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.gppdDb.name">
      <app-gppd-db [data]="_dataItem.gppdDb"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.gppdDb.name]" [index]="index"
        [tabName]="resultTabWithKeys.gppdDb.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)">
      </app-gppd-db>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.spcDb.name">
      <chem-spcdb [data]="_dataItem.spcDb" [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.spcDb.name]"
        [index]="index" [tabName]="resultTabWithKeys.spcDb.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)">
      </chem-spcdb>
    </ng-container>

    <ng-container *ngSwitchCase="resultTabWithKeys.scientificDocs.name">
      <app-scientific-docs [data]="_dataItem.scientificDocs"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.scientificDocs.name]" [index]="index"
        [tabName]="resultTabWithKeys.scientificDocs.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)">
      </app-scientific-docs>

    </ng-container>
    <ng-container *ngSwitchCase="resultTabWithKeys.eximData.name">
      <chem-exim [data]="_dataItem.eximData"
        [currentChildAPIBody]="_currentChildAPIBody?.[resultTabWithKeys.eximData.name]" [index]="index"
        [tabName]="resultTabWithKeys.eximData.name" (handleSetLoading)="handleSetLoading.emit($event)"
        (handleResultTabData)="handleChildPaginationSearch.emit($event)">
      </chem-exim>
    </ng-container>

    <ng-container *ngSwitchCase="'US'">
      <!-- <chem-us-approval></chem-us-approval> -->
    </ng-container>

    <ng-container *ngSwitchDefault>
      <div class="card">
        <div class="card-header text-white bg-primary">Comming Soon..</div>
        <div class="card-body">We are wokring on this tab, Please come back later.</div>
      </div>
    </ng-container>
  </div>
</div>